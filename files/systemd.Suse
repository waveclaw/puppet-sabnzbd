[Unit]
Description=SABnzbd binary newsreader
After=network.target

[Service]
Type=forking
EnvironmentFile=-/etc/sysconfig/SABnzbd
User=sabnzbd
Group=sabnzbd
ExecStart=/opt/SABnzbd/SABnzbd.py -d -f $SABNZBD_CONFIG --pid /opt/SABnzbd/.sabnzbd &
ExecStop=/usr/bin/curl -s "http://localhost:8080/sabnzbd/api?mode=shutdown&apikey=${SABNZBD_APIKEY}"
KillSignal=SIGHUP
PIDFile=/opt/SABnzbd/.sabnzbd/sabnzbd-8080.pid

[Install]
WantedBy=multi-user.target

